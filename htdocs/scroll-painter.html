<!DOCTYPE html>
<!--
Demo of a page that makes paragraphs appear from a dimmed state as they scroll into view.
-->
<html lang="en">
    <head>
        <title>Scroll-painter</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                background-color: darkgreen;
                color: white;
            }
            p {
                font-size: 16pt;
            }
            .scroll-appearing {
                transition: opacity 0.5s;
                opacity: 0.2;
            }
        </style>
        <script>
            // Make all elements with class 'scroll-appearing' that are in the top
            // half of the viewport opaque and the ones in the bottom half transparent.
            function paintScrollAppearing() {
                var viewportHeight = window.innerHeight;

                document.querySelectorAll('.scroll-appearing').forEach(function(element) {
                    var elementRect = element.getBoundingClientRect();
                    var elementMiddle = elementRect.top + (elementRect.height / 2);

                    // Make the elements the element opaque if its center is at the middle of the viewport or above
                    if (elementMiddle <= viewportHeight / 2) {
                        element.style.opacity = 1;
                    } else {
                        element.style.opacity = 0.2;
                    }
                });
            }

            window.addEventListener('scroll', paintScrollAppearing);
        </script>
    </head>
    <body>
        <h1>Scroll down to see paragraphs appear from a dimmed state</h1>

        <!-- A spacer to make the page scrollable -->
        <div style="height: 80vh; width: 600px; background: linear-gradient(to bottom right, #484848, #999999);">
            <svg width="100" height="100">
                <circle cx="50" cy="50" r="40" stroke="black" stroke-width="3" fill="yellow" />
                <circle cx="30" cy="30" r="5" fill="black" />
                <circle cx="70" cy="30" r="5" fill="black" />
                <path d="M 30 70 Q 50 80 70 70" stroke="black" stroke-width="3" fill="none" />
            </svg>
        </div>
        <p class="scroll-appearing">To be, or not to be, that is the question</p>
        <p class="scroll-appearing">Whether 'tis nobler in the mind to suffer</p>
        <p class="scroll-appearing">The slings and arrows of outrageous fortune</p>
        <p class="scroll-appearing">Or to take arms against a sea of troubles</p>
        <p class="scroll-appearing">And by opposing end them. To die: to sleep</p>
        <p class="scroll-appearing">No more; and by a sleep to say we end</p>
        <p class="scroll-appearing">The heart-ache and the thousand natural shocks</p>
        <p class="scroll-appearing">That flesh is heir to, 'tis a consummation</p>
        <p class="scroll-appearing">Devoutly to be wish'd. To die, to sleep</p>
        <p class="scroll-appearing">To sleep: perchance to dream: ay, there's the rub</p>
        <p class="scroll-appearing">For in that sleep of death what dreams may come</p>
        <p class="scroll-appearing">When we have shuffled off this mortal coil</p>
        <p class="scroll-appearing">Must give us pause: there's the respect</p>
        <p class="scroll-appearing">That makes calamity of so long life</p>
        <p class="scroll-appearing">For who would bear the whips and scorns of time</p>
        <p class="scroll-appearing">The oppressor's wrong
        <p class="scroll-appearing">The proud man's contumely</p>
        <p class="scroll-appearing">The pangs of despised love</p>
        <p class="scroll-appearing">The law's delay</p>
        <p class="scroll-appearing">The insolence of office</p>
        <p class="scroll-appearing">And the spurns that patient merit of the unworthy takes</p>
        <p class="scroll-appearing">When he himself might his quietus make</p>
        <p class="scroll-appearing">With a bare bodkin? who would fardels bear</p>
        <p class="scroll-appearing">To grunt and sweat under a weary life</p>
        <p class="scroll-appearing">But that the dread of something after death</p>
        <p class="scroll-appearing">The undiscover'd country from whose bourn</p>
        <p class="scroll-appearing">No traveller returns puzzles the will</p>
        <p class="scroll-appearing">And makes us rather bear those ills we have</p>
        <p class="scroll-appearing">Than fly to others that we know not of?</p>
        <p class="scroll-appearing">Thus conscience does make cowards of us all</p>
        <p class="scroll-appearing">And thus the native hue of resolution</p>
        <p class="scroll-appearing">Is sicklied o'er with the pale cast of thought</p>
        <p class="scroll-appearing">And enterprises of great pitch and moment</p>
        <p class="scroll-appearing">With this regard their currents turn awry</p>
        <p class="scroll-appearing">And lose the name of action. Soft you now</p>
        <p class="scroll-appearing">The fair Ophelia! Nymph, in thy orisons</p>
        <p class="scroll-appearing">Be all my sins remember'd</p>
        <!-- Another spacer to make the page scrollable a bit past the last paragraph -->
        <div style="height: 60vh;"></div>
    </body>
</html>
